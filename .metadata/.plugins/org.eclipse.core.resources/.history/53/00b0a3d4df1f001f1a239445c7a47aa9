<!DOCTYPE html>
<html lang="en">

<head>
</head>

<body>
	<p>バトルログ読み込み</p>
	<input class="form-control" type="file" value="" id="inputuserfile">
	<button type="button" id="battle">バトル開始</button>
<script>
	const battle = document.getElementById("battle");
	battle.addEventListener('click',()=>{	
		const url = /*[[@{/user/regi/studentcsv}]]*/ "/user/regi/studentcsv";
		// 送信データの準備
		const formData = new FormData();
		formData.append("inputuserfile", inputuserfile.files[0]);  // ファイル内容を詰める
        fetch(url,{method:"post",body: formData})
        //レスポンスの受け取り
        .then( response => response.json()).then(result => {
 			if( result.errorMsg != null){
 				alert(result.errorMsg);
 			}else if(result.now > 0){
 				alert("登録完了："+result.now+"件");
 			}
 		});
	});

</script>
</body>
</html>